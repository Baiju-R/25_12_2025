{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{{ title|default:"Share Feedback" }} - BloodBridge</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.css" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        body{font-family:'Poppins',sans-serif;background:linear-gradient(135deg,#f5f7fa 0%,#c3cfe2 100%);min-height:100vh}
        .card{border-radius:18px;box-shadow:0 18px 50px rgba(0,0,0,0.12);border:0}
        .card-header{border-radius:18px 18px 0 0;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:0}
        .btn-primary{background:linear-gradient(45deg,#e74c3c,#c0392b);border:0;font-weight:700;border-radius:12px}
        .btn-outline-secondary{border-radius:12px;font-weight:700}
        .hint{color:#6b7280;font-size:0.92rem}
        .form-control{border-radius:12px}
        .file-note{font-size:0.85rem;color:#6b7280}
    </style>
</head>
<body>
<div class="container" style="padding:90px 15px 40px;max-width:860px;">

    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert" style="border-radius:12px;">
                {{ message }}
                <button type="button" class="close" data-dismiss="alert"><span>&times;</span></button>
            </div>
        {% endfor %}
    {% endif %}

    <div class="card">
        <div class="card-header py-4">
            <h3 class="mb-1"><i class="fas fa-comment-dots"></i> {{ title|default:"Share Feedback" }}</h3>
            <div class="hint">Share your donation / request experience. You can upload up to 3 images.</div>
        </div>
        <div class="card-body p-4">
            <form method="post" enctype="multipart/form-data">
                {% csrf_token %}

                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label>Your Name (optional)</label>
                        {{ form.display_name }}
                        {% if form.display_name.errors %}<div class="text-danger">{{ form.display_name.errors }}</div>{% endif %}
                    </div>
                    <div class="form-group col-md-6">
                        <label>Feedback For</label>
                        {{ form.feedback_for }}
                        {% if form.feedback_for.errors %}<div class="text-danger">{{ form.feedback_for.errors }}</div>{% endif %}
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group col-md-4">
                        <label>Rating (1-5)</label>
                        {{ form.rating }}
                        {% if form.rating.errors %}<div class="text-danger">{{ form.rating.errors }}</div>{% endif %}
                    </div>
                    <div class="form-group col-md-8">
                        <label>Message</label>
                        {{ form.message }}
                        {% if form.message.errors %}<div class="text-danger">{{ form.message.errors }}</div>{% endif %}
                    </div>
                </div>

                <div class="form-group">
                    <label><i class="fas fa-image"></i> Images</label>
                    <div class="form-row">
                        <div class="col-md-4 mb-2">
                            {{ form.image1 }}
                        </div>
                        <div class="col-md-4 mb-2">
                            {{ form.image2 }}
                        </div>
                        <div class="col-md-4 mb-2">
                            {{ form.image3 }}
                        </div>
                    </div>
                    <div class="file-note">Tip: Use JPG/PNG. Keep uploads small (max ~5MB).</div>
                </div>

                <div class="d-flex" style="gap:12px;flex-wrap:wrap;">
                    <button type="submit" class="btn btn-primary px-4"><i class="fas fa-paper-plane"></i> Submit</button>
                    <a class="btn btn-outline-secondary" href="{% url 'home' %}"><i class="fas fa-arrow-left"></i> Back to Home</a>
                </div>
            </form>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
</body>
</html>
