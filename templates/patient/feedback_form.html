{% extends 'patient/patientbase.html' %}
{% block content %}

<style>
    .fb-wrap{max-width:980px;margin:0 auto;padding:25px}
    .fb-card{background:rgba(255,255,255,0.97);border-radius:18px;box-shadow:0 18px 55px rgba(0,0,0,0.14);border:1px solid rgba(255,255,255,0.25)}
    .fb-head{padding:22px 26px;border-bottom:1px solid rgba(226,232,240,0.8)}
    .fb-title{margin:0;font-weight:800;color:#2c3e50}
    .fb-sub{margin-top:6px;color:#6b7280}
    .fb-body{padding:22px 26px}
    .form-control{border-radius:12px}
    .btn-primary{border-radius:12px;font-weight:800;border:0;background:linear-gradient(135deg,#3498db,#2980b9)}
    .btn-outline-secondary{border-radius:12px;font-weight:800}
</style>

<div class="fb-wrap">
    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert" style="border-radius:12px;">
                {{ message }}
                <button type="button" class="close" data-dismiss="alert"><span>&times;</span></button>
            </div>
        {% endfor %}
    {% endif %}

    <div class="fb-card">
        <div class="fb-head">
            <h3 class="fb-title"><i class="fas fa-comment-dots" style="color:#3498db"></i> Share Your Request Experience</h3>
            <div class="fb-sub">Your feedback helps improve the process. Upload up to 3 images.</div>
        </div>
        <div class="fb-body">
            <form method="post" enctype="multipart/form-data">
                {% csrf_token %}

                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label>Feedback For</label>
                        {{ form.feedback_for }}
                        {% if form.feedback_for.errors %}<div class="text-danger">{{ form.feedback_for.errors }}</div>{% endif %}
                    </div>
                    <div class="form-group col-md-6">
                        <label>Rating (1-5)</label>
                        {{ form.rating }}
                        {% if form.rating.errors %}<div class="text-danger">{{ form.rating.errors }}</div>{% endif %}
                    </div>
                </div>

                <div class="form-group">
                    <label>Message</label>
                    {{ form.message }}
                    {% if form.message.errors %}<div class="text-danger">{{ form.message.errors }}</div>{% endif %}
                </div>

                <div class="form-group">
                    <label><i class="fas fa-image"></i> Images</label>
                    <div class="form-row">
                        <div class="col-md-4 mb-2">{{ form.image1 }}</div>
                        <div class="col-md-4 mb-2">{{ form.image2 }}</div>
                        <div class="col-md-4 mb-2">{{ form.image3 }}</div>
                    </div>
                </div>

                <div class="d-flex" style="gap:12px;flex-wrap:wrap;">
                    <button type="submit" class="btn btn-primary px-4"><i class="fas fa-paper-plane"></i> Submit</button>
                    <a class="btn btn-outline-secondary" href="{% url 'patient-dashboard' %}"><i class="fas fa-arrow-left"></i> Back</a>
                </div>
            </form>
        </div>
    </div>
</div>

{% endblock content %}
